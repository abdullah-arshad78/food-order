{"version":3,"sources":["components/Orders/OrderForm.module.css","components/Orders/OrdersContainer.module.css","components/Cart/Cart.module.css","components/Cart/CartItem.module.css","components/Layout/HeaderCartButton.module.css","components/Meals/MealItem/MealItem.module.css","components/UI/Modal.module.css","components/Layout/Header.module.css","components/Meals/MealsSummary.module.css","components/Meals/AvailableMeals.module.css","components/UI/Card.module.css","components/Meals/MealItem/MealItemForm.module.css","components/UI/Input.module.css","assets/meals.jpg","components/Cart/CartIcon.js","store/cart-context.js","components/Layout/HeaderCartButton.js","components/Layout/Header.js","components/Meals/MealsSummary.js","components/UI/Card.js","components/UI/Input.js","components/Meals/MealItem/MealItemForm.js","components/Meals/MealItem/MealItem.js","components/Meals/AvailableMeals.js","components/Meals/Meals.js","components/UI/Modal.js","components/Cart/CartItem.js","components/Cart/Cart.js","store/CartProvider.js","hooks/useFormInput.js","components/Orders/OrderForm.js","components/Orders/OrdersContainer.js","App.js","index.js"],"names":["module","exports","CartIcon","xmlns","viewBox","fill","d","CartContext","createContext","items","totalAmount","addItem","item","removeItem","id","HeaderCartButton","props","useContext","numberOfCartItems","map","meal","amount","reduce","currentNum","useState","btnIsHighlighted","setBtnIsHighlighted","useEffect","length","timer","setTimeout","clearTimeout","btnClasses","styles","button","bump","className","onClick","icon","badge","Header","Fragment","header","onShowCart","src","mealsImage","alt","MealsSummary","summary","Card","card","children","Input","React","forwardRef","ref","input","htmlFor","label","MealItemForm","isAmountValid","setIsAmountValid","amountInputRef","useRef","form","onSubmit","e","preventDefault","enteredAmount","current","value","enteredAmountNumber","trim","onAddToCart","type","min","max","step","defaultValue","MealItem","cartCtx","price","toFixed","name","description","AvailableMeals","meals","setMeals","isLoading","setIsLoading","error","setError","fetchMeals","fetch","response","ok","Error","json","data","dataKeyVals","Object","entries","fetchedMeals","message","content","Meals","BackDrop","backdrop","onClose","ModalOverLay","modal","portalEl","document","getElementById","Modal","ReactDOM","createPortal","CartItem","classes","actions","onRemove","onAdd","Cart","Math","abs","hasItems","cartItemRemoveHandler","cartItemAddHandler","deleteDatabase","method","saveDataHandler","body","JSON","stringify","headers","showOrderForm","cartItems","bind","total","defaultCartState","cartReducer","state","action","updatedItems","updatedTotalAmount","existingCartItemIndex","findIndex","existingCartItem","updatedItem","concat","newItems","existingRedItemIdex","existingRedItem","newTotal","filter","CartProvider","useReducer","cartState","dispatchCartAction","cartContext","Provider","ACTIONS","valueReducer","valueTouched","useFormInput","validateValue","dispatchAction","valueIsValid","valueHasError","valueChangeHandler","target","valueBlurHandler","validityClass","reset","fetchingDataFromServer","fetchData","window","location","url","countriesList","validateEmail","email","test","OrderForm","countryValue","setCountryValue","isSubmit","setIsSubmit","nameIsValid","nameHasError","nameChangeHandler","nameBlurHandler","nameReset","emailIsValid","emailHasError","emailChangeHandler","emailBlurHandler","emailReset","address","addressIsValid","addressHasError","addressChangeHandler","addressBlurHandler","addressReset","postcode","postcodeIsValid","postcodeHasError","postcodeChangeHandler","postcodeBlurHandler","postcodeReset","stateIsValid","stateHasError","stateChangeHandler","stateBlurHandler","stateReset","formIsValid","newInterval","clearInterval","orderList","console","log","placeholder","onChange","onBlur","country","disabled","success","OrdersContainer","setOrderList","listIsLoading","setListIsLoading","getOrdersFromDatabase","dataKeyVal","listContent","sum","App","cartIsShown","setCartIsShown","orderFormIsShown","setOrderFormIsShown","createRoot","render"],"mappings":"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vG,GAC1BoG,EAAe,CAAE5F,KAAMuF,GAAgB3F,MAAOJ,EAAEwG,OAAOpG,OACxD,EAiBCqG,iBAhBuB,SAACzG,GACxBoG,EAAe,CAAE5F,KAAMuF,GAAc3F,OAAO,GAC7C,EAeCsG,cAToBJ,EAAgB,uBAAyB,eAU7DK,MAdY,WACZP,EAAe,CAAE5F,KAAMuF,IACxB,EAcF,EC3CKa,GAAsB,iDAAG,WAAOrK,GAAP,mGACLoF,MAAM,2BAA4B,CACxDoC,OAAQ,OACRE,KAAMC,KAAKC,UAAU5H,GACrB6H,QAAS,CAAE,eAAgB,sBAJA,cACvByC,EADuB,gBAOVA,EAAU9E,OAPA,OAOvBC,EAPuB,OAQ7B8E,OAAOC,SAAW/E,EAAKgF,IARM,2CAAH,sDAUtBC,GAAgB,CACpB,cACA,UACA,UACA,UACA,SACA,WACA,wBACA,YACA,UACA,QACA,YACA,UACA,aACA,UACA,UACA,aACA,WACA,UACA,UACA,SACA,QACA,UACA,SACA,UACA,2BACA,WACA,SACA,yBACA,SACA,WACA,eACA,UACA,WACA,WACA,aACA,iBACA,OACA,QACA,QACA,WACA,QACA,eACA,aACA,gBACA,UACA,cACA,OACA,SACA,iBACA,UACA,WACA,WACA,qBACA,UACA,QACA,cACA,oBACA,UACA,WACA,mBACA,gBACA,OACA,UACA,SACA,mBACA,qBACA,QACA,SACA,UACA,UACA,QACA,YACA,SACA,YACA,UACA,OACA,YACA,WACA,SACA,gBACA,SACA,QACA,WACA,YACA,UACA,UACA,QACA,YACA,OACA,OACA,UACA,cACA,SACA,QACA,UACA,QACA,SACA,SACA,aACA,QACA,SACA,kBACA,OACA,SACA,UACA,UACA,UACA,QACA,gBACA,YACA,aACA,QACA,YACA,aACA,SACA,WACA,WACA,OACA,QACA,aACA,YACA,SACA,UACA,SACA,WACA,aACA,aACA,UACA,aACA,UACA,QACA,cACA,uBACA,gBACA,cACA,YACA,QACA,UACA,SACA,OACA,WACA,YACA,SACA,mBACA,WACA,OACA,cACA,SACA,WACA,cACA,QACA,UACA,UACA,SACA,SACA,8BACA,QACA,aACA,YACA,eACA,UACA,SACA,aACA,eACA,YACA,WACA,WACA,eACA,cACA,QACA,YACA,uBACA,WACA,aACA,YACA,QACA,WACA,YACA,SACA,cACA,QACA,SACA,aACA,WACA,WACA,eACA,OACA,QACA,wBACA,UACA,SACA,eACA,qBACA,SACA,UACA,uBACA,iBACA,UACA,aACA,YACA,UACA,sBACA,QACA,SACA,YAEIC,GAAgB,SAACC,GAGrB,MADE,wJACgBC,KAAKD,EACxB,EAwMcE,GAtMG,SAACvK,GACjB,MAAwCQ,mBAAS,eAAjD,mBAAOgK,EAAP,KAAqBC,EAArB,KACA,EAAgCjK,oBAAS,GAAzC,mBAAOkK,EAAP,KAAiBC,EAAjB,KACA,EAOIvB,IAAa,SAAC9F,GAAD,MAA4B,KAAjBA,EAAME,MAAjB,IANRW,EADT,EACEb,MACcsH,EAFhB,EAEErB,aACesB,EAHjB,EAGErB,cACoBsB,EAJtB,EAIErB,mBACkBsB,EALpB,EAKEpB,iBACOqB,EANT,EAMEnB,MAEF,EAOIT,GAAagB,IANRC,EADT,EACE/G,MACc2H,EAFhB,EAEE1B,aACe2B,EAHjB,EAGE1B,cACoB2B,EAJtB,EAIE1B,mBACkB2B,EALpB,EAKEzB,iBACO0B,EANT,EAMExB,MAEF,EAOIT,IAAa,SAAC9F,GAAD,MAA4B,KAAjBA,EAAME,MAAjB,IANR8H,EADT,EACEhI,MACciI,EAFhB,EAEEhC,aACeiC,EAHjB,EAGEhC,cACoBiC,EAJtB,EAIEhC,mBACkBiC,EALpB,EAKE/B,iBACOgC,EANT,EAME9B,MAEF,EAOIT,IAAa,SAAC9F,GAAD,MAA4B,KAAjBA,EAAME,MAAjB,IANRoI,EADT,EACEtI,MACcuI,EAFhB,EAEEtC,aACeuC,EAHjB,EAGEtC,cACoBuC,EAJtB,EAIEtC,mBACkBuC,EALpB,EAKErC,iBACOsC,EANT,EAMEpC,MAEF,EAOIT,IAAa,SAAC9F,GAAD,MAA4B,KAAjBA,EAAME,MAAjB,IANRqE,EADT,EACEvE,MACc4I,EAFhB,EAEE3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","file":"static/js/main.41b842fc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"order-form\":\"OrderForm_order-form__2JTQq\",\"form-control\":\"OrderForm_form-control__ibuXK\",\"invalid\":\"OrderForm_invalid__2MeMj\",\"postcode\":\"OrderForm_postcode__Q6FUc\",\"state\":\"OrderForm_state__1tBCh\",\"country\":\"OrderForm_country__3wYIs\",\"error\":\"OrderForm_error__1aqgs\",\"success\":\"OrderForm_success__1Gbyr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"order-container\":\"OrdersContainer_order-container__3xseN\",\"order-list\":\"OrdersContainer_order-list__7SxFu\",\"order-name\":\"OrdersContainer_order-name__34bfu\",\"order-amount\":\"OrdersContainer_order-amount__2CWpy\",\"order-price\":\"OrdersContainer_order-price__2qa35\",\"total-container\":\"OrdersContainer_total-container__kwR-X\",\"close-btn\":\"OrdersContainer_close-btn__2QJhM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-items\":\"Cart_cart-items__35a25\",\"total\":\"Cart_total__4zjTv\",\"actions\":\"Cart_actions__vQ23g\",\"button--alt\":\"Cart_button--alt__2PJKS\",\"button\":\"Cart_button__3INDP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"CartItem_cart-item__1ixeq\",\"summary\":\"CartItem_summary__1N3Jw\",\"price\":\"CartItem_price__2HUfZ\",\"amount\":\"CartItem_amount__9WLeB\",\"actions\":\"CartItem_actions__1ObW8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"HeaderCartButton_button__3ZSYq\",\"icon\":\"HeaderCartButton_icon__1BkiY\",\"badge\":\"HeaderCartButton_badge__3eQRy\",\"bump\":\"HeaderCartButton_bump__2c43n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meal\":\"MealItem_meal__3jAa8\",\"description\":\"MealItem_description__1Yi-C\",\"price\":\"MealItem_price__r0yQU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__3aYNx\",\"modal\":\"Modal_modal__2LUht\",\"slide-down\":\"Modal_slide-down__11_Y4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__26cHI\",\"main-image\":\"Header_main-image__gnqjs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"summary\":\"MealsSummary_summary__QhKd-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meals\":\"AvailableMeals_meals__2tH5z\",\"meals-appear\":\"AvailableMeals_meals-appear__2vfJm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__eLy6G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"MealItemForm_form__1rhgx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__1Poj-\"};","export default __webpack_public_path__ + \"static/media/meals.2971f633.jpg\";","const CartIcon = () => {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      viewBox=\"0 0 20 20\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path d=\"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default CartIcon;\r\n","import { createContext } from \"react\";\r\n\r\nconst CartContext = createContext({\r\n  items: [],\r\n  totalAmount: 0,\r\n  addItem: (item) => {},\r\n  removeItem: (id) => {},\r\n});\r\n\r\nexport default CartContext;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport styles from \"./HeaderCartButton.module.css\";\r\nimport CartIcon from \"../Cart/CartIcon\";\r\nimport CartContext from \"../../store/cart-context\";\r\n\r\nconst HeaderCartButton = (props) => {\r\n  const cartCtx = useContext(CartContext);\r\n  const { items } = cartCtx;\r\n  const numberOfCartItems = items\r\n    .map((meal) => meal.amount)\r\n    .reduce((currentNum, item) => {\r\n      return currentNum + item;\r\n    }, 0);\r\n\r\n  const [btnIsHighlighted, setBtnIsHighlighted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (items.length === 0) {\r\n      return;\r\n    }\r\n    setBtnIsHighlighted(true);\r\n    const timer = setTimeout(() => {\r\n      setBtnIsHighlighted(false);\r\n    }, 300);\r\n\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [items]);\r\n\r\n  const btnClasses = `${styles.button} ${btnIsHighlighted ? styles.bump : \"\"}`;\r\n\r\n  return (\r\n    <button className={btnClasses} onClick={props.onClick}>\r\n      <span className={styles.icon}>\r\n        <CartIcon />\r\n      </span>\r\n      <span>Your Cart</span>\r\n      <span className={styles.badge}> {numberOfCartItems}</span>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default HeaderCartButton;\r\n","import React from \"react\";\r\nimport styles from \"./Header.module.css\";\r\nimport mealsImage from \"../../assets/meals.jpg\";\r\nimport HeaderCartButton from \"./HeaderCartButton\";\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <React.Fragment>\r\n      <header className={styles.header}>\r\n        <h1>React Meals</h1>\r\n        <HeaderCartButton onClick={props.onShowCart} />\r\n      </header>\r\n      <div className={styles[\"main-image\"]}>\r\n        <img src={mealsImage} alt=\"s table full of delicious food\" />\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport styles from \"./MealsSummary.module.css\";\r\n\r\nconst MealsSummary = () => {\r\n  return (\r\n    <section className={styles.summary}>\r\n      <h2>Delicious Food, Delivered To You</h2>\r\n      <p>\r\n        Choose your favorite meal from our broad selection of available meals\r\n        and enjoy a delicious lunch or dinner at home.\r\n      </p>\r\n      <p>\r\n        All our meals are cooked with high-quality ingredients, just-in-time and\r\n        of course by experienced chefs!\r\n      </p>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default MealsSummary;\r\n","import React from \"react\";\r\nimport styles from \"./Card.module.css\";\r\n\r\nconst Card = (props) => {\r\n  return <div className={styles.card}>{props.children}</div>;\r\n};\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport styles from \"./Input.module.css\";\r\n\r\nconst Input = React.forwardRef((props, ref) => {\r\n  return (\r\n    <div className={styles.input}>\r\n      <label htmlFor={props.input.id}>{props.label}</label>\r\n      <input ref={ref} {...props.input} />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Input;\r\n","import React, { useRef, useState } from \"react\";\r\nimport styles from \"./MealItemForm.module.css\";\r\nimport Input from \"../../UI/Input\";\r\nconst MealItemForm = (props) => {\r\n  const [isAmountValid, setIsAmountValid] = useState(true);\r\n  const amountInputRef = useRef();\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    const enteredAmount = amountInputRef.current.value;\r\n    const enteredAmountNumber = +enteredAmount;\r\n\r\n    if (\r\n      enteredAmount.trim().length === 0 ||\r\n      enteredAmountNumber < 1 ||\r\n      enteredAmountNumber > 5\r\n    ) {\r\n      setIsAmountValid(false);\r\n      return;\r\n    }\r\n\r\n    props.onAddToCart(enteredAmountNumber);\r\n  };\r\n  return (\r\n    <form className={styles.form} onSubmit={submitHandler}>\r\n      <Input\r\n        ref={amountInputRef}\r\n        label=\"Amount\"\r\n        input={{\r\n          id: \"amount_\" + props.id,\r\n          type: \"number\",\r\n          min: \"1\",\r\n          max: \"5\",\r\n          step: \"1\",\r\n          defaultValue: \"1\",\r\n        }}\r\n      />\r\n      <button>+ Add</button>\r\n      {!isAmountValid && <p>Please enter a valid amount (1-5)</p>}\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default MealItemForm;\r\n","import React, { useContext } from \"react\";\r\nimport styles from \"./MealItem.module.css\";\r\nimport MealItemForm from \"./MealItemForm\";\r\nimport CartContext from \"../../../store/cart-context\";\r\n\r\nconst MealItem = (props) => {\r\n  const cartCtx = useContext(CartContext);\r\n  const price = `$${props.price.toFixed(2)}`;\r\n  const addToCartHandler = (amount) => {\r\n    cartCtx.addItem({\r\n      id: props.id,\r\n      name: props.name,\r\n      price: props.price,\r\n      amount: amount,\r\n    });\r\n  };\r\n  return (\r\n    <li className={styles.meal}>\r\n      <div>\r\n        <h3>{props.name}</h3>\r\n        <div className={styles.description}>{props.description}</div>\r\n        <div className={styles.price}>{price}</div>\r\n      </div>\r\n      <div>\r\n        <MealItemForm onAddToCart={addToCartHandler} id={props.id} />\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default MealItem;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport styles from \"./AvailableMeals.module.css\";\r\nimport Card from \"../UI/Card\";\r\n\r\nimport MealItem from \"./MealItem/MealItem\";\r\n\r\nconst AvailableMeals = () => {\r\n  const [meals, setMeals] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const fetchMeals = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await fetch(\r\n        \"https://food-order-18bb0-default-rtdb.europe-west1.firebasedatabase.app/meals.json\"\r\n      );\r\n      if (!response.ok) {\r\n        throw new Error(\"Request failed\");\r\n      }\r\n      const data = await response.json();\r\n      const dataKeyVals = Object.entries(data);\r\n      const fetchedMeals = dataKeyVals.map((item) => {\r\n        return { ...item[1], id: item[0] };\r\n      });\r\n      setMeals(fetchedMeals);\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n\r\n    setIsLoading(false);\r\n  };\r\n  useEffect(() => {\r\n    fetchMeals();\r\n  }, []);\r\n  const mealsList = meals.map((meal) => (\r\n    <MealItem\r\n      key={meal.id}\r\n      name={meal.name}\r\n      price={meal.price}\r\n      description={meal.description}\r\n      id={meal.id}\r\n    />\r\n  ));\r\n  let content = mealsList;\r\n  if (error) {\r\n    content = <p>{error}</p>;\r\n  }\r\n  if (isLoading) {\r\n    content = <p>Loading...</p>;\r\n  }\r\n  return (\r\n    <section className={styles.meals}>\r\n      <Card>{content}</Card>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default AvailableMeals;\r\n","import React from \"react\";\r\n\r\nimport MealsSummary from \"./MealsSummary\";\r\nimport AvailableMeals from \"./AvailableMeals\";\r\n\r\nconst Meals = () => {\r\n  return (\r\n    <React.Fragment>\r\n      <MealsSummary />\r\n      <AvailableMeals />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Meals;\r\n","import React, { Fragment } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nconst BackDrop = (props) => {\r\n  return <div className={styles.backdrop} onClick={props.onClose} />;\r\n};\r\n\r\nconst ModalOverLay = (props) => {\r\n  return (\r\n    <div className={styles.modal}>\r\n      <div className={styles.content}>{props.children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst portalEl = document.getElementById(\"overlays\");\r\n\r\nconst Modal = (props) => {\r\n  return (\r\n    <Fragment>\r\n      {ReactDOM.createPortal(<BackDrop onClose={props.onClose} />, portalEl)}\r\n      {ReactDOM.createPortal(\r\n        <ModalOverLay>{props.children}</ModalOverLay>,\r\n        portalEl\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import classes from \"./CartItem.module.css\";\n\nconst CartItem = (props) => {\n  const price = `$${props.price.toFixed(2)}`;\n\n  return (\n    <li className={classes[\"cart-item\"]}>\n      <div>\n        <h2>{props.name}</h2>\n        <div className={classes.summary}>\n          <span className={classes.price}>{price}</span>\n          <span className={classes.amount}>x {props.amount}</span>\n        </div>\n      </div>\n      <div className={classes.actions}>\n        <button onClick={props.onRemove}>−</button>\n        <button onClick={props.onAdd}>+</button>\n      </div>\n    </li>\n  );\n};\n\nexport default CartItem;\n","import React, { useContext, useEffect } from \"react\";\r\nimport styles from \"./Cart.module.css\";\r\nimport Modal from \"../UI/Modal\";\r\nimport CartContext from \"../../store/cart-context\";\r\nimport CartItem from \"./CartItem\";\r\nconst Cart = (props) => {\r\n  const cartCtx = useContext(CartContext);\r\n  const totalAmount = `$${Math.abs(cartCtx.totalAmount).toFixed(2)}`;\r\n  const hasItems = cartCtx.items.length > 0;\r\n  const cartItemRemoveHandler = (id) => {\r\n    cartCtx.removeItem(id);\r\n  };\r\n  const cartItemAddHandler = (item) => {\r\n    cartCtx.addItem({ ...item, amount: 1 });\r\n  };\r\n  const deleteDatabase = async () => {\r\n    await fetch(\r\n      \"https://food-order-18bb0-default-rtdb.europe-west1.firebasedatabase.app/orders.json\",\r\n      {\r\n        method: \"DELETE\",\r\n      }\r\n    );\r\n  };\r\n  useEffect(() => {\r\n    deleteDatabase();\r\n  }, []);\r\n\r\n  const saveDataHandler = async () => {\r\n    await fetch(\r\n      \"https://food-order-18bb0-default-rtdb.europe-west1.firebasedatabase.app/orders.json\",\r\n      {\r\n        method: \"POST\",\r\n        body: JSON.stringify(cartCtx.items),\r\n        headers: { \"content-Type\": \"application/json\" },\r\n      }\r\n    );\r\n    props.onClose();\r\n    props.showOrderForm();\r\n  };\r\n  const cartItems = (\r\n    <ul className={styles[\"cart-items\"]}>\r\n      {cartCtx.items.map((item) => (\r\n        <CartItem\r\n          key={item.id}\r\n          name={item.name}\r\n          amount={item.amount}\r\n          price={item.price}\r\n          onRemove={cartItemRemoveHandler.bind(null, item.id)}\r\n          onAdd={cartItemAddHandler.bind(null, item)}\r\n        ></CartItem>\r\n      ))}\r\n    </ul>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Modal onClose={props.onClose}>\r\n        {cartItems}\r\n        <div className={styles.total}>\r\n          <span>Total Amount</span>\r\n          <span>{totalAmount}</span>\r\n        </div>\r\n        <div className={styles.actions}>\r\n          <button className={styles[\"button--alt\"]} onClick={props.onClose}>\r\n            Close\r\n          </button>\r\n          {hasItems && (\r\n            <button onClick={saveDataHandler} className={styles.button}>\r\n              Order\r\n            </button>\r\n          )}\r\n        </div>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import React, { useReducer } from \"react\";\r\nimport CartContext from \"./cart-context\";\r\n\r\nlet defaultCartState = {\r\n  items: [],\r\n  totalAmount: 0,\r\n};\r\n// const fetchOrderedData = async (applydata) => {\r\n//   const response = await fetch(\r\n//     \"https://food-order-18bb0-default-rtdb.europe-west1.firebasedatabase.app/orders.json\"\r\n//   );\r\n//   const data = await response.json();\r\n//   const orderedData = Object.entries(data).map((item) => {\r\n//     return { ...item[1], id: item[0] };\r\n//   });\r\n//   console.log(orderedData);\r\n//   const totalPrice = orderedData\r\n//     .map((item) => item.price * item.amount)\r\n//     .reduce((sum, acc) => sum + acc);\r\n//   if (orderedData) {\r\n//     applydata({ items: orderedData, totalAmount: totalPrice });\r\n//   }\r\n// };\r\n///Above we are fetching our readymade data for cart and setting it to cart state\r\n//Below we are making a case for adding data using database\r\n// {name:\"Green Bowl\", amount:1, price:2}\r\n// const addData = async (item) => {\r\n//   const fetchedData = await fetch(\r\n//     \"https://food-order-18bb0-default-rtdb.europe-west1.firebasedatabase.app/orders.json\"\r\n//   );\r\n//   const data = await fetchedData.json();\r\n//   const orderedData = Object.entries(data).map((item) => {\r\n//     return { ...item[1], id: item[0] };\r\n//   });\r\n//   const retrievedValueIndex = orderedData.findIndex(\r\n//     (entity) => entity.name === item.name\r\n//   );\r\n//   if (retrievedValueIndex > -1) {\r\n//     const retrievedDataId = orderedData[retrievedValueIndex].id;\r\n//     const fetchedValue = await fetch(\r\n//       `https://food-order-18bb0-default-rtdb.europe-west1.firebasedatabase.app/orders/${retrievedDataId}.json`,\r\n//       {\r\n//         method: \"PUT\",\r\n//         body: JSON.stringify({\r\n//           ...item,\r\n//           amount: orderedData[retrievedValueIndex].amount + item.amount,\r\n//         }),\r\n//         headers: { \"content-Type\": \"application/json\" },\r\n//       }\r\n//     );\r\n//     const retrievedValueFromDatabase = await fetchedValue.json();\r\n//     console.log(retrievedValueFromDatabase);\r\n\r\n//     //Uptil now we were able to retrieve a data whose name is same as the name of item we passed\r\n//     //Then we are able to manipulate that data in the database\r\n//     // then We are able to fetch the new data from the database and render the dom with the new data\r\n//     //Next step: We will\r\n//   } else {\r\n//     const postData = await fetch(\r\n//       \"https://food-order-18bb0-default-rtdb.europe-west1.firebasedatabase.app/orders.json\",\r\n//       {\r\n//         method: \"POST\",\r\n//         body: JSON.stringify(item),\r\n//         headers: { \"content-Type\": \"application/json\" },\r\n//       }\r\n//     );\r\n//     const postedData = await postData.json();\r\n//     console.log(postedData);\r\n//   }\r\n//   const response = await fetch(\r\n//     \"https://food-order-18bb0-default-rtdb.europe-west1.firebasedatabase.app/orders.json\"\r\n//   );\r\n//   const updatedData = await response.json();\r\n//   const updatedItemsArray = Object.entries(updatedData).map((item) => {\r\n//     return { ...item[1], id: item[0] };\r\n//   });\r\n//   const newTotal = orderedData\r\n//     .map((item) => item.price * item.amount)\r\n//     .reduce((sum, acc) => sum + acc);\r\n\r\n//   return { items: updatedItemsArray, totalAmount: newTotal };\r\n//   //Something went wrong: when the data is being fetched the other processes are being run which are dependent on the data, so it gives us an error\r\n// };\r\n\r\nconst cartReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"ADD\":\r\n      const updatedTotalAmount =\r\n        state.totalAmount + action.item.price * action.item.amount;\r\n      const existingCartItemIndex = state.items.findIndex(\r\n        (item) => item.id === action.item.id\r\n      );\r\n      const existingCartItem = state.items[existingCartItemIndex];\r\n\r\n      let updatedItems;\r\n\r\n      if (existingCartItem) {\r\n        const updatedItem = {\r\n          ...existingCartItem,\r\n          amount: existingCartItem.amount + action.item.amount,\r\n        };\r\n        updatedItems = [...state.items];\r\n        updatedItems[existingCartItemIndex] = updatedItem;\r\n      } else {\r\n        updatedItems = state.items.concat(action.item);\r\n      }\r\n\r\n      return { items: updatedItems, totalAmount: updatedTotalAmount };\r\n    // addData(action.item);\r\n    // break;\r\n\r\n    case \"REMOVE\":\r\n      const existingRedItemIdex = state.items.findIndex(\r\n        (item) => action.id === item.id\r\n      );\r\n      const existingRedItem = state.items[existingRedItemIdex];\r\n\r\n      const newTotal = state.totalAmount - existingRedItem.price;\r\n\r\n      let newItems;\r\n      if (existingRedItem.amount > 1) {\r\n        const updatedItem = {\r\n          ...existingRedItem,\r\n          amount: existingRedItem.amount - 1,\r\n        };\r\n        newItems = [...state.items];\r\n        newItems[existingRedItemIdex] = updatedItem;\r\n      } else {\r\n        newItems = state.items.filter((item) => item.id !== action.id);\r\n      }\r\n      return { items: newItems, totalAmount: newTotal };\r\n    // case \"FETCHED\":\r\n    //   return action.value;\r\n\r\n    default:\r\n      return defaultCartState;\r\n  }\r\n};\r\nconst CartProvider = (props) => {\r\n  const [cartState, dispatchCartAction] = useReducer(\r\n    cartReducer,\r\n    defaultCartState\r\n  );\r\n  const addItemToCartHandler = (item) => {\r\n    dispatchCartAction({ type: \"ADD\", item: item });\r\n  };\r\n  const removeItemToCartHandler = (id) => {\r\n    dispatchCartAction({ type: \"REMOVE\", id: id });\r\n  };\r\n  //The below function is to set cartstate to our fetched data when it is available\r\n  // function cartDataHandler(data) {\r\n  //   dispatchCartAction({ type: \"FETCHED\", value: data });\r\n  // }\r\n  // useEffect(() => {\r\n  //   fetchOrderedData(cartDataHandler);\r\n  //   // addData({ name: \"Aloo Chat\", amount: 1, price: 2 }, cartDataHandler);\r\n  // }, []);\r\n  const cartContext = {\r\n    items: cartState.items,\r\n    totalAmount: cartState.totalAmount,\r\n    addItem: addItemToCartHandler,\r\n    removeItem: removeItemToCartHandler,\r\n  };\r\n  return (\r\n    <CartContext.Provider value={cartContext}>\r\n      {props.children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport default CartProvider;\r\n","import { useReducer } from \"react\";\r\nconst ACTIONS = {\r\n  change: \"CHANGE\",\r\n  blur: \"BLUR\",\r\n  reset: \"RESET\",\r\n};\r\nconst valueReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case ACTIONS.change:\r\n      return { ...state, value: action.value };\r\n    case ACTIONS.blur:\r\n      return { ...state, valueTouched: action.value };\r\n    case ACTIONS.reset:\r\n      return { value: \"\", valueTouched: false };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nconst useFormInput = (validateValue) => {\r\n  const initialState = { value: \"\", valueTouched: false };\r\n  const [state, dispatchAction] = useReducer(valueReducer, initialState);\r\n  const { value, valueTouched } = state;\r\n  const valueIsValid = validateValue(value);\r\n  const valueHasError = !valueIsValid && valueTouched;\r\n  const valueChangeHandler = (e) => {\r\n    dispatchAction({ type: ACTIONS.change, value: e.target.value });\r\n  };\r\n  const valueBlurHandler = (e) => {\r\n    dispatchAction({ type: ACTIONS.blur, value: true });\r\n  };\r\n\r\n  const reset = () => {\r\n    dispatchAction({ type: ACTIONS.reset });\r\n  };\r\n\r\n  const validityClass = valueHasError ? \"form-control invalid\" : \"form-control\";\r\n\r\n  return {\r\n    value,\r\n    valueTouched,\r\n    valueIsValid,\r\n    valueHasError,\r\n    valueChangeHandler,\r\n    valueBlurHandler,\r\n    validityClass,\r\n    reset,\r\n  };\r\n};\r\n\r\nexport default useFormInput;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport classes from \"./OrderForm.module.css\";\r\nimport useFormInput from \"../../hooks/useFormInput\";\r\n\r\nconst fetchingDataFromServer = async (items) => {\r\n  const fetchData = await fetch(\"/create-checkout-session\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(items),\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n  });\r\n\r\n  const data = await fetchData.json();\r\n  window.location = data.url;\r\n};\r\nconst countriesList = [\r\n  \"Afghanistan\",\r\n  \"Albania\",\r\n  \"Algeria\",\r\n  \"Andorra\",\r\n  \"Angola\",\r\n  \"Anguilla\",\r\n  \"Antigua &amp; Barbuda\",\r\n  \"Argentina\",\r\n  \"Armenia\",\r\n  \"Aruba\",\r\n  \"Australia\",\r\n  \"Austria\",\r\n  \"Azerbaijan\",\r\n  \"Bahamas\",\r\n  \"Bahrain\",\r\n  \"Bangladesh\",\r\n  \"Barbados\",\r\n  \"Belarus\",\r\n  \"Belgium\",\r\n  \"Belize\",\r\n  \"Benin\",\r\n  \"Bermuda\",\r\n  \"Bhutan\",\r\n  \"Bolivia\",\r\n  \"Bosnia &amp; Herzegovina\",\r\n  \"Botswana\",\r\n  \"Brazil\",\r\n  \"British Virgin Islands\",\r\n  \"Brunei\",\r\n  \"Bulgaria\",\r\n  \"Burkina Faso\",\r\n  \"Burundi\",\r\n  \"Cambodia\",\r\n  \"Cameroon\",\r\n  \"Cape Verde\",\r\n  \"Cayman Islands\",\r\n  \"Chad\",\r\n  \"Chile\",\r\n  \"China\",\r\n  \"Colombia\",\r\n  \"Congo\",\r\n  \"Cook Islands\",\r\n  \"Costa Rica\",\r\n  \"Cote D Ivoire\",\r\n  \"Croatia\",\r\n  \"Cruise Ship\",\r\n  \"Cuba\",\r\n  \"Cyprus\",\r\n  \"Czech Republic\",\r\n  \"Denmark\",\r\n  \"Djibouti\",\r\n  \"Dominica\",\r\n  \"Dominican Republic\",\r\n  \"Ecuador\",\r\n  \"Egypt\",\r\n  \"El Salvador\",\r\n  \"Equatorial Guinea\",\r\n  \"Estonia\",\r\n  \"Ethiopia\",\r\n  \"Falkland Islands\",\r\n  \"Faroe Islands\",\r\n  \"Fiji\",\r\n  \"Finland\",\r\n  \"France\",\r\n  \"French Polynesia\",\r\n  \"French West Indies\",\r\n  \"Gabon\",\r\n  \"Gambia\",\r\n  \"Georgia\",\r\n  \"Germany\",\r\n  \"Ghana\",\r\n  \"Gibraltar\",\r\n  \"Greece\",\r\n  \"Greenland\",\r\n  \"Grenada\",\r\n  \"Guam\",\r\n  \"Guatemala\",\r\n  \"Guernsey\",\r\n  \"Guinea\",\r\n  \"Guinea Bissau\",\r\n  \"Guyana\",\r\n  \"Haiti\",\r\n  \"Honduras\",\r\n  \"Hong Kong\",\r\n  \"Hungary\",\r\n  \"Iceland\",\r\n  \"India\",\r\n  \"Indonesia\",\r\n  \"Iran\",\r\n  \"Iraq\",\r\n  \"Ireland\",\r\n  \"Isle of Man\",\r\n  \"Israel\",\r\n  \"Italy\",\r\n  \"Jamaica\",\r\n  \"Japan\",\r\n  \"Jersey\",\r\n  \"Jordan\",\r\n  \"Kazakhstan\",\r\n  \"Kenya\",\r\n  \"Kuwait\",\r\n  \"Kyrgyz Republic\",\r\n  \"Laos\",\r\n  \"Latvia\",\r\n  \"Lebanon\",\r\n  \"Lesotho\",\r\n  \"Liberia\",\r\n  \"Libya\",\r\n  \"Liechtenstein\",\r\n  \"Lithuania\",\r\n  \"Luxembourg\",\r\n  \"Macau\",\r\n  \"Macedonia\",\r\n  \"Madagascar\",\r\n  \"Malawi\",\r\n  \"Malaysia\",\r\n  \"Maldives\",\r\n  \"Mali\",\r\n  \"Malta\",\r\n  \"Mauritania\",\r\n  \"Mauritius\",\r\n  \"Mexico\",\r\n  \"Moldova\",\r\n  \"Monaco\",\r\n  \"Mongolia\",\r\n  \"Montenegro\",\r\n  \"Montserrat\",\r\n  \"Morocco\",\r\n  \"Mozambique\",\r\n  \"Namibia\",\r\n  \"Nepal\",\r\n  \"Netherlands\",\r\n  \"Netherlands Antilles\",\r\n  \"New Caledonia\",\r\n  \"New Zealand\",\r\n  \"Nicaragua\",\r\n  \"Niger\",\r\n  \"Nigeria\",\r\n  \"Norway\",\r\n  \"Oman\",\r\n  \"Pakistan\",\r\n  \"Palestine\",\r\n  \"Panama\",\r\n  \"Papua New Guinea\",\r\n  \"Paraguay\",\r\n  \"Peru\",\r\n  \"Philippines\",\r\n  \"Poland\",\r\n  \"Portugal\",\r\n  \"Puerto Rico\",\r\n  \"Qatar\",\r\n  \"Reunion\",\r\n  \"Romania\",\r\n  \"Russia\",\r\n  \"Rwanda\",\r\n  \"Saint Pierre &amp; Miquelon\",\r\n  \"Samoa\",\r\n  \"San Marino\",\r\n  \"Satellite\",\r\n  \"Saudi Arabia\",\r\n  \"Senegal\",\r\n  \"Serbia\",\r\n  \"Seychelles\",\r\n  \"Sierra Leone\",\r\n  \"Singapore\",\r\n  \"Slovakia\",\r\n  \"Slovenia\",\r\n  \"South Africa\",\r\n  \"South Korea\",\r\n  \"Spain\",\r\n  \"Sri Lanka\",\r\n  \"St Kitts &amp; Nevis\",\r\n  \"St Lucia\",\r\n  \"St Vincent\",\r\n  \"St. Lucia\",\r\n  \"Sudan\",\r\n  \"Suriname\",\r\n  \"Swaziland\",\r\n  \"Sweden\",\r\n  \"Switzerland\",\r\n  \"Syria\",\r\n  \"Taiwan\",\r\n  \"Tajikistan\",\r\n  \"Tanzania\",\r\n  \"Thailand\",\r\n  \"Timor L'Este\",\r\n  \"Togo\",\r\n  \"Tonga\",\r\n  \"Trinidad &amp; Tobago\",\r\n  \"Tunisia\",\r\n  \"Turkey\",\r\n  \"Turkmenistan\",\r\n  \"Turks &amp; Caicos\",\r\n  \"Uganda\",\r\n  \"Ukraine\",\r\n  \"United Arab Emirates\",\r\n  \"United Kingdom\",\r\n  \"Uruguay\",\r\n  \"Uzbekistan\",\r\n  \"Venezuela\",\r\n  \"Vietnam\",\r\n  \"Virgin Islands (US)\",\r\n  \"Yemen\",\r\n  \"Zambia\",\r\n  \"Zimbabwe\",\r\n];\r\nconst validateEmail = (email) => {\r\n  const emailRegex =\r\n    /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return emailRegex.test(email);\r\n};\r\n\r\nconst OrderForm = (props) => {\r\n  const [countryValue, setCountryValue] = useState(\"Afghanistan\");\r\n  const [isSubmit, setIsSubmit] = useState(false);\r\n  const {\r\n    value: name,\r\n    valueIsValid: nameIsValid,\r\n    valueHasError: nameHasError,\r\n    valueChangeHandler: nameChangeHandler,\r\n    valueBlurHandler: nameBlurHandler,\r\n    reset: nameReset,\r\n  } = useFormInput((value) => value.trim() !== \"\");\r\n  const {\r\n    value: email,\r\n    valueIsValid: emailIsValid,\r\n    valueHasError: emailHasError,\r\n    valueChangeHandler: emailChangeHandler,\r\n    valueBlurHandler: emailBlurHandler,\r\n    reset: emailReset,\r\n  } = useFormInput(validateEmail);\r\n  const {\r\n    value: address,\r\n    valueIsValid: addressIsValid,\r\n    valueHasError: addressHasError,\r\n    valueChangeHandler: addressChangeHandler,\r\n    valueBlurHandler: addressBlurHandler,\r\n    reset: addressReset,\r\n  } = useFormInput((value) => value.trim() !== \"\");\r\n  const {\r\n    value: postcode,\r\n    valueIsValid: postcodeIsValid,\r\n    valueHasError: postcodeHasError,\r\n    valueChangeHandler: postcodeChangeHandler,\r\n    valueBlurHandler: postcodeBlurHandler,\r\n    reset: postcodeReset,\r\n  } = useFormInput((value) => value.trim() !== \"\");\r\n  const {\r\n    value: state,\r\n    valueIsValid: stateIsValid,\r\n    valueHasError: stateHasError,\r\n    valueChangeHandler: stateChangeHandler,\r\n    valueBlurHandler: stateBlurHandler,\r\n    reset: stateReset,\r\n  } = useFormInput((value) => value.trim() !== \"\");\r\n  const formIsValid =\r\n    nameIsValid &&\r\n    emailIsValid &&\r\n    postcodeIsValid &&\r\n    stateIsValid &&\r\n    addressIsValid;\r\n\r\n  useEffect(() => {\r\n    let newInterval;\r\n    if (isSubmit) {\r\n      newInterval = setTimeout(() => {\r\n        setIsSubmit(false);\r\n      }, 5000);\r\n    }\r\n    return () => {\r\n      clearInterval(newInterval);\r\n    };\r\n  }, [isSubmit]);\r\n  const countryChangeHandler = (e) => {\r\n    setCountryValue(e.target.value);\r\n  };\r\n  const submitFormHandler = (e) => {\r\n    e.preventDefault();\r\n    if (!formIsValid) {\r\n      return;\r\n    }\r\n    nameReset();\r\n    emailReset();\r\n    postcodeReset();\r\n    addressReset();\r\n    stateReset();\r\n    setIsSubmit(true);\r\n    const orderObj = {\r\n      ordersList: props.orderList,\r\n      user: { name, email, address, postcode, state, country: countryValue },\r\n    };\r\n\r\n    console.log(props.orderList);\r\n    if (props.orderList.length > 0) {\r\n      fetchingDataFromServer(props.orderList);\r\n    }\r\n  };\r\n  return (\r\n    <form className={classes[\"order-form\"]} onSubmit={submitFormHandler}>\r\n      <div\r\n        className={`${classes[\"form-control\"]} ${\r\n          nameHasError ? classes[\"invalid\"] : \"\"\r\n        }`}\r\n      >\r\n        <label htmlFor=\"name\">Fullname</label>\r\n        <input\r\n          id=\"name\"\r\n          type=\"text\"\r\n          placeholder=\"John Baker\"\r\n          value={name}\r\n          onChange={nameChangeHandler}\r\n          onBlur={nameBlurHandler}\r\n        />\r\n        {nameHasError && (\r\n          <p className={classes.error}>Please add a valid name</p>\r\n        )}\r\n      </div>\r\n      <div\r\n        className={`${classes[\"form-control\"]} ${\r\n          emailHasError ? classes[\"invalid\"] : \"\"\r\n        }`}\r\n      >\r\n        <label htmlFor=\"email\">Email</label>\r\n        <input\r\n          value={email}\r\n          onChange={emailChangeHandler}\r\n          onBlur={emailBlurHandler}\r\n          id=\"email\"\r\n          type=\"email\"\r\n          placeholder=\"JohnBaker@example.com\"\r\n        />\r\n        {emailHasError && (\r\n          <p className={classes.error}>Please add a valid email</p>\r\n        )}\r\n      </div>\r\n      <div\r\n        className={`${classes[\"form-control\"]} ${\r\n          addressHasError ? classes[\"invalid\"] : \"\"\r\n        }`}\r\n      >\r\n        <label htmlFor=\"address\">Address</label>\r\n        <input\r\n          id=\"address\"\r\n          type=\"text\"\r\n          placeholder=\"House 123, Street 345, Austin Road\"\r\n          value={address}\r\n          onChange={addressChangeHandler}\r\n          onBlur={addressBlurHandler}\r\n        />\r\n        {addressHasError && (\r\n          <p className={classes.error}> Please add a valid address</p>\r\n        )}\r\n      </div>\r\n      <div\r\n        className={`${classes[\"form-control\"]} ${classes[\"postcode\"]} ${\r\n          postcodeHasError ? classes[\"invalid\"] : \"\"\r\n        }`}\r\n      >\r\n        <label htmlFor=\"postcode\">Postcode</label>\r\n        <input\r\n          id=\"postcode\"\r\n          type=\"text\"\r\n          placeholder=\"ABC WXYZ\"\r\n          value={postcode}\r\n          onChange={postcodeChangeHandler}\r\n          onBlur={postcodeBlurHandler}\r\n        />\r\n        {postcodeHasError && (\r\n          <p className={classes.error}>Please add a valid postcode</p>\r\n        )}\r\n      </div>\r\n      <div\r\n        className={`${classes[\"form-control\"]} ${classes[\"state\"]} ${\r\n          stateHasError ? classes[\"invalid\"] : \"\"\r\n        }`}\r\n      >\r\n        <label htmlFor=\"state\">State/Province</label>\r\n        <input\r\n          id=\"state\"\r\n          type=\"text\"\r\n          placeholder=\"Texas\"\r\n          value={state}\r\n          onChange={stateChangeHandler}\r\n          onBlur={stateBlurHandler}\r\n        />\r\n        {stateHasError && (\r\n          <p className={classes.error}> Please add a valid state/province</p>\r\n        )}\r\n      </div>\r\n      <div className={`${classes[\"form-control\"]} ${classes[\"country\"]}`}>\r\n        <label htmlFor=\"country\">Country</label>\r\n        <select value={countryValue} onChange={countryChangeHandler}>\r\n          Country\r\n          {countriesList.map((country) => (\r\n            <option key={country} value={country}>\r\n              {country}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      <button disabled={!formIsValid}>Submit</button>\r\n      {isSubmit && (\r\n        <p className={classes.success}>\r\n          Thank you for proving your information. We will be in touch shortly.\r\n        </p>\r\n      )}\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default OrderForm;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Modal from \"../UI/Modal\";\r\nimport OrderForm from \"./OrderForm\";\r\n\r\nimport classes from \"./OrdersContainer.module.css\";\r\n\r\nconst OrdersContainer = (props) => {\r\n  const [orderList, setOrderList] = useState([]);\r\n  const [listIsLoading, setListIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const getOrdersFromDatabase = async () => {\r\n    try {\r\n      setListIsLoading(true);\r\n      const response = await fetch(\r\n        \"https://food-order-18bb0-default-rtdb.europe-west1.firebasedatabase.app/orders.json\"\r\n      );\r\n      if (!response.ok) {\r\n        throw new Error(\"Something went wrong\");\r\n      }\r\n      const data = await response.json();\r\n      const dataKeyVal = Object.entries(data);\r\n      setOrderList(dataKeyVal[0][1]);\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n\r\n    setListIsLoading(false);\r\n  };\r\n  useEffect(() => {\r\n    getOrdersFromDatabase();\r\n  }, []);\r\n  console.log(orderList);\r\n  let listContent = orderList.map((item) => (\r\n    <li key={item.id}>\r\n      <div className={classes[\"order-name\"]}>{item.name}</div>\r\n      <span className={classes[\"order-amount\"]}>x{item.amount}</span>\r\n      <div className={classes[\"order-price\"]}>${item.amount * item.price}</div>\r\n    </li>\r\n  ));\r\n  if (error) {\r\n    listContent = <p>{error}</p>;\r\n  }\r\n  if (listIsLoading) {\r\n    listContent = <p>Loading...</p>;\r\n  }\r\n  return (\r\n    <Modal onClose={props.onClose}>\r\n      <div className={classes[\"order-container\"]}>\r\n        <h2>Your Orders</h2>\r\n        <ul className={classes[\"order-list\"]}>{listContent}</ul>\r\n      </div>\r\n      {orderList.length > 0 && (\r\n        <div className={classes[\"total-container\"]}>\r\n          <h3>Total Amount</h3>{\" \"}\r\n          <span>\r\n            $\r\n            {orderList\r\n              .reduce((sum, item) => {\r\n                return sum + item.amount * item.price;\r\n              }, 0)\r\n              .toFixed(2)}\r\n          </span>\r\n        </div>\r\n      )}\r\n      <OrderForm orderList={orderList} />\r\n      <button className={classes[\"close-btn\"]} onClick={props.onClose}>\r\n        Close\r\n      </button>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default OrdersContainer;\r\n","import React, { useState } from \"react\";\nimport Header from \"./components/Layout/Header\";\nimport Meals from \"./components/Meals/Meals\";\nimport Cart from \"./components/Cart/Cart\";\nimport CartProvider from \"./store/CartProvider\";\nimport OrdersContainer from \"./components/Orders/OrdersContainer\";\nfunction App() {\n  const [cartIsShown, setCartIsShown] = useState(false);\n  const [orderFormIsShown, setOrderFormIsShown] = useState(false);\n  const showCartHandler = () => {\n    setCartIsShown(true);\n  };\n  const hideCartHandler = () => {\n    setCartIsShown(false);\n  };\n  const showOrderForm = () => {\n    setOrderFormIsShown(true);\n  };\n  const hideOrderForm = () => {\n    setOrderFormIsShown(false);\n  };\n  return (\n    <CartProvider>\n      {cartIsShown && (\n        <Cart onClose={hideCartHandler} showOrderForm={showOrderForm} />\n      )}\n      <Header onShowCart={showCartHandler} />\n      <main>\n        <Meals />\n        {orderFormIsShown && <OrdersContainer onClose={hideOrderForm} />}\n      </main>\n    </CartProvider>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom/client';\n\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(<App />);\n"],"sourceRoot":""}